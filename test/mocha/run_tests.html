<!DOCTYPE HTML>
<HTML>
	<HEAD>
		<title>VideoJS Annotated Comments Automated Tests</title>
		<link href="/video.js/dist/video-js.css" rel="stylesheet">
		<link href="./../assets/videojs_skin.css" rel="stylesheet">
		<link href="./../assets/page.css" rel="stylesheet">
		<link href="./../css/annotations.css" rel="stylesheet">
        <link rel="stylesheet" href="/mocha/mocha.css">
		<script>
			var annotations = [
				{
					"id": 1,
					"range": {
						"start": 55, "end": 60
					},
					"shape": {
						"x1":23.47,"y1":9.88,"x2":60.83,"y2":44.2
					},
					"comments":[
						{
							"id": 1,
							"meta":{
								"datetime": "2017-03-28T19:17:32.238Z",
								"user_id":1,
								"user_name": "Jack Pope"
							},
							"body": "Is the \"Stories API\" the only API we want to highlight here? It makes the system feel a little limited, even though we have robust functionality and multiple APIs"
						}
					]
				},
				{
                    "id": 2,
					"range": {
						"start":65,"stop":65
					},
					"shape": {
						"x1":0.97,"y1":65.19,"x2":36.25,"y2":97.28
					},
					"comments": [
						{
							"id": 2,
							"meta": {
								"datetime":"2017-03-28T19:18:25.485Z",
								"user_id":2,
								"user_name": "Evan Carothers"
							},
						"body": "Can we replace this logo with Microsoft?"
						},
						{
							id: 3,
							meta: {
								"datetime":"2017-03-29T00:18:25.485Z",
								user_id: 1,
								user_name: "Jack Pope"
							},
							body: "Great idea Evan, that's a SUPER recognizable brand!\n\nAny other major company brands we are missing in this shot?"
						}
					]
				},
			];
		</script>
        <style>
            /*#main_player { display: none; }*/
			#mocha { text-align: left; }
        </style>

	</HEAD>
	<BODY>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="/video.js/dist/video.min.js"></script>
		<script src="/videojs-annotation-comments.js"></script>

        <div id="mocha"></div>
		<div id="video-container"></div>
        <script src="/mocha/mocha.js"></script>
        <script src="/chai/chai.js"></script>
        <script>
            mocha.ui('bdd');
            mocha.reporter('html');
        </script>
		<script>
			// temp location for test helpers
			const expect = chai.expect;
			const videoHTML = '<video id="main_player" class="video-js" controls preload="auto" width="720" height="405" data-setup="{}"><source src="./../Docal_announmt_final.mp4" type="video/mp4"></video>'

			const addVideo = () => $('#video-container').html(videoHTML);
			var player, plugin;
			const initVJS = () => videojs('main_player');

			const resetVJS = () => {
			    if(player) player.dispose();
			    player = null;
			    plugin = null;
			    addVideo();
			    player = videojs('main_player');
			};
		</script>
        <script src="./test.js"></script>
        <script>
            mocha.run();
        </script>
	</BODY>
</HTML>
